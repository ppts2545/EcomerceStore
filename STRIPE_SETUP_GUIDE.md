# üöÄ Stripe Payment Setup Guide - ‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á

## üìã **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Stripe**

### 1. **‡∏™‡∏£‡πâ‡∏≤‡∏á Stripe Account**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://stripe.com
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "Start now" ‡∏´‡∏£‡∏∑‡∏≠ "Sign up"
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
4. ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£

### 2. **‡πÄ‡∏Å‡πá‡∏ö API Keys**
‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß:
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Dashboard ‚Üí Developers ‚Üí API keys
2. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å:
   - **Publishable key** (pk_test_... ‡∏´‡∏£‡∏∑‡∏≠ pk_live_...)
   - **Secret key** (sk_test_... ‡∏´‡∏£‡∏∑‡∏≠ sk_live_...)

### 3. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Webhook**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Dashboard ‚Üí Developers ‚Üí Webhooks
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "Add endpoint"
3. URL: `https://yourdomain.com/api/payments/webhook`
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Events:
   - `payment_intent.succeeded`
   - `payment_intent.payment_failed`
   - `checkout.session.completed`
5. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å **Webhook secret** (whsec_...)

### 4. **‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£ (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)**
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á:
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Dashboard ‚Üí Settings ‚Üí Payouts
2. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3. ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô
4. ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Stripe (1-7 ‡∏ß‡∏±‡∏ô)

### 5. **‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Application**
‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÑ‡∏ü‡∏•‡πå `application.properties`:

```properties
# Stripe Configuration (LIVE MODE)
stripe.api.key=sk_live_your_actual_secret_key
stripe.publishable.key=pk_live_your_actual_publishable_key  
stripe.webhook.secret=whsec_your_actual_webhook_secret
```

## üí∞ **‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô**

### **Test Mode vs Live Mode**
- **Test Mode**: ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏à‡∏£‡∏¥‡∏á (sk_test_... / pk_test_...)
- **Live Mode**: ‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á (sk_live_... / pk_live_...)

### **‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô**
- Stripe ‡∏à‡∏∞‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå
- ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (‡∏´‡∏•‡∏±‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö)
- ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°: 3.25% + ‡∏ø10 ‡∏ï‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

### **‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°**
- Dashboard ‚Üí Payments: ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢
- Dashboard ‚Üí Payouts: ‡∏î‡∏π‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏≠‡∏ô‡∏°‡∏≤

## üîß **‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

### **Test Cards (‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Test Mode)**
- Success: `4242424242424242`
- Decline: `4000000000000002`
- 3D Secure: `4000000000003220`

### **‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Webhook**
```bash
# ‡πÉ‡∏ä‡πâ Stripe CLI
stripe listen --forward-to localhost:8082/api/payments/webhook
```

## üö® **‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á**

1. **‡πÑ‡∏°‡πà‡πÄ‡∏ú‡∏¢ Secret Key** - ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô environment variables
2. **‡πÉ‡∏ä‡πâ HTTPS** ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Webhook signature** ‡πÄ‡∏™‡∏°‡∏≠
4. **‡πÄ‡∏Å‡πá‡∏ö log** ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
5. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Test Mode** ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á

## üìû **‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Stripe**
- Support: https://support.stripe.com
- Documentation: https://stripe.com/docs
- Thailand: support@stripe.com

---
**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á!
