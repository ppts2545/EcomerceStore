:root {
  --cat-card-w: 132px;   /* เล็กลงจากเวอร์ชันก่อน */
  --cat-card-h: 136px;
  --cat-gap: 12px;

  --cat-bg: #fff;
  --cat-bg-elev: #f8fafc;
  --cat-text: #111827;
  --cat-muted: #6b7280;
  --cat-border: #e5e7eb;
  --cat-primary: #1677ff;

  --shadow-sm: 0 2px 6px rgba(0,0,0,.06);
  --shadow-md: 0 10px 30px rgba(0,0,0,.12);
}

@media (prefers-color-scheme: dark) {
  :root {
    --cat-bg: #0f172a;
    --cat-bg-elev: #0b1324;
    --cat-text: #e5e7eb;
    --cat-muted: #94a3b8;
    --cat-border: #1f2937;
    --shadow-sm: 0 2px 10px rgba(0,0,0,.35);
    --shadow-md: 0 18px 40px rgba(0,0,0,.35);
  }
}

.category-section { padding: 18px 0 6px; background: transparent; }
.category-section .container { max-width: 1200px; margin: 0 auto; padding: 0 15px; }

.category-header {
  display: flex; align-items: flex-end; justify-content: space-between; gap: 12px;
  margin-bottom: 12px;
}
.category-title { margin: 0; font-size: 18px; color: var(--cat-text); }
.category-subtitle { margin: 2px 0 0; font-size: 13px; color: var(--cat-muted); }

.nav-buttons { display: flex; gap: 8px; }
.nav-btn {
  width: 34px; height: 34px; border-radius: 10px; border: 1px solid var(--cat-border);
  background: var(--cat-bg-elev); color: var(--cat-text);
  display: grid; place-items: center; font-size: 18px; cursor: pointer;
  transition: transform .2s ease, background .2s ease, color .2s ease, border-color .2s ease;
}
.nav-btn:hover { transform: translateY(-1px); }
.nav-btn:disabled { opacity: .45; cursor: not-allowed; transform: none; }

/* Viewport + edges */
.categories-viewport { position: relative; }
.edge {
  position: absolute; top: 0; bottom: 0; width: 44px; pointer-events: none; z-index: 1;
  opacity: 0; transition: opacity .2s ease;
  background: linear-gradient(to right, rgba(255,255,255,0.9), rgba(255,255,255,0));
}
.edge.right { right: 0; left: auto; transform: scaleX(-1); }
.edge[data-show="true"] { opacity: 1; }
@media (prefers-color-scheme: dark) {
  .edge { background: linear-gradient(to right, rgba(15,23,42,0.9), rgba(15,23,42,0)); }
}

/* Horizontal grid with 2 rows */
.categories-strip {
  display: grid;
  grid-auto-flow: column;
  grid-template-rows: repeat(2, var(--cat-card-h));
  grid-auto-columns: var(--cat-card-w);
  gap: var(--cat-gap);
  overflow-x: auto;
  padding: 6px 2px 8px;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
}
.categories-strip::-webkit-scrollbar { height: 10px; }
.categories-strip::-webkit-scrollbar-thumb {
  background: color-mix(in oklab, var(--cat-primary) 35%, transparent);
  border-radius: 20px;
}

/* Card (smaller, icon on top, text below) */
.category-card {
  width: var(--cat-card-w);
  height: var(--cat-card-h);
  border: 1px solid var(--cat-border);
  background: var(--cat-bg);
  border-radius: 14px;
  box-shadow: var(--shadow-sm);
  display: grid;
  grid-template-rows: 1fr auto;
  align-items: center;
  justify-items: center;
  padding: 10px 8px;
  scroll-snap-align: start;
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
}
.category-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: color-mix(in oklab, var(--cat-primary) 30%, var(--cat-border));
}

.category-card.all {
  border-color: var(--cat-primary);
  background: linear-gradient(180deg, color-mix(in oklab, var(--cat-primary) 10%, var(--cat-bg)) 0%, var(--cat-bg) 100%);
}

.cat-icon {
  display: grid; place-items: center;
  width: 48px; height: 48px; border-radius: 12px;
  background: var(--cat-bg-elev); border: 1px solid var(--cat-border);
  font-size: 26px;
  margin-top: 6px;
}

.cat-text { text-align: center; line-height: 1.25; margin-top: 8px; width: 100%; }
.cat-name {
  font-size: 13.5px; font-weight: 700; color: var(--cat-text);
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}
.cat-sub {
  font-size: 12px; color: var(--cat-muted);
  display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; overflow: hidden;
  min-height: calc(1em * 2 + 2px);
}

/* Responsive: จอเล็กปรับเป็น 1 แถว (การ์ดกว้างขึ้นนิดเพื่อแตะง่าย) */
@media (max-width: 700px) {
  :root { --cat-card-w: 146px; --cat-card-h: 142px; }
  .categories-strip { grid-template-rows: var(--cat-card-h); }
}